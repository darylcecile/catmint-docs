# adapter-cloudflare

Cloudflare Workers adapter for Catmint. Transforms Catmint build output into a Cloudflare Workers-compatible bundle deployable with `wrangler`.

## Import

```ts
import cloudflare from 'catmint-adapter-cloudflare'
```

## Signature

```ts
function cloudflareAdapter(options?: CloudflareAdapterOptions): CatmintAdapter
```

The default export is the `cloudflareAdapter` factory function.

## Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `options` | `CloudflareAdapterOptions` | No | Configuration for the Cloudflare Workers deployment. |

### `CloudflareAdapterOptions`

| Property | Type | Default | Description |
|----------|------|---------|-------------|
| `routes` | `string[]` | `['/*']` | Worker route patterns. |
| `compatibilityDate` | `string` | Current date | Cloudflare Workers [compatibility date](https://developers.cloudflare.com/workers/configuration/compatibility-dates/). Defaults to today's date in `YYYY-MM-DD` format. |

## Return Value

Returns a `CatmintAdapter` object with `name: '@catmint/adapter-cloudflare'`. When the `adapt()` method is called during build, it:

1. Generates `worker.js` — the Workers entry point
2. Generates `asset-manifest.json` — maps URL paths to static files
3. Generates `wrangler.jsonc` — Wrangler configuration with the specified compatibility date and routes
4. Copies client assets and pre-rendered pages to `public/`
5. Copies the server bundle into the output directory

Output is written to `dist/cloudflare/`.

## Examples

```ts
// catmint.config.ts — defaults
import { defineConfig } from 'catmint/config'
import cloudflare from 'catmint-adapter-cloudflare'

export default defineConfig({
  adapter: cloudflare(),
})
```

```ts
// With custom compatibility date and routes
import { defineConfig } from 'catmint/config'
import cloudflare from 'catmint-adapter-cloudflare'

export default defineConfig({
  adapter: cloudflare({
    compatibilityDate: '2026-01-01',
    routes: ['example.com/*'],
  }),
})
```

After building, deploy with:

```sh
npx wrangler deploy --config dist/cloudflare/wrangler.jsonc
```

## See Also

- [CatmintAdapter](/framework/api/CatmintAdapter)
- [adapter-node](/framework/api/adapter-node)
- [adapter-vercel](/framework/api/adapter-vercel)
- [defineConfig](/framework/api/config)
